(this["webpackJsonpncd-ii-demo"]=this["webpackJsonpncd-ii-demo"]||[]).push([[0],{110:function(e,t){},138:function(e,t,n){"use strict";n.r(t);var r=n(5),c=n.n(r),a=n(69),o=n(67),s=n(0),i=n(34),l=n.n(i),u=(n(46),n(26)),d=n(142),m=(n(141),n(1));var j=function(e){e.contract;var t=Object(s.useState)(!1),n=Object(u.a)(t,2),r=n[0];n[1];return Object(s.useEffect)((function(){})),Object(m.jsx)("div",{className:"md:container md:mx-auto",children:r?Object(m.jsx)("div",{className:"mt-4 mx-auto loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-20 w-20"}):Object(m.jsx)("div",{className:"mt-4 h-20 w-20"})})},p=n(140),b=function(e){var t=e.currentUser,n=e.nearConfig,r=e.wallet,c=Object(s.useState)(!0),a=Object(u.a)(c,2),o=a[0],i=a[1],l=Object(p.a)((function(){return i(!0)}),500),j=Object(u.a)(l,3)[2];return Object(s.useEffect)((function(){j()}),[j]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(d.a,{as:s.Fragment,show:o,enter:"transform transition duration-[400ms]",enterFrom:"opacity-0 rotate-[-120deg] scale-50",enterTo:"opacity-100 rotate-0 scale-100",leave:"transform duration-200 transition ease-in-out",leaveFrom:"opacity-100 rotate-0 scale-100 ",leaveTo:"opacity-0 scale-95 ",children:Object(m.jsxs)("div",{className:"mt-6 p-6 max-w-sm mx-auto bg-white rounded-xl shadow-md flex items-center space-x-4",children:[Object(m.jsxs)("div",{className:"flex-shrink-0",children:[Object(m.jsx)("img",{className:"h-14 w-20",src:"https://docs.near.org/img/near_logo.svg",alt:"NEAR Logo"}),t?Object(m.jsx)("button",{className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",onClick:function(){r.signOut(),window.location.replace(window.location.origin+window.location.pathname)},children:"Log out"}):Object(m.jsx)("button",{className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",onClick:function(){r.requestSignIn(n.contractName,"NEAR Yatzi App")},children:"Log in"})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"text-xl font-medium text-black",children:"Governance"}),t?Object(m.jsx)("div",{children:Object(m.jsxs)("p",{className:"text-gray-500",children:["Account ID: ",t.accountId," "]})}):Object(m.jsx)("div",{children:Object(m.jsx)("p",{className:"text-gray-500",children:"Sign in to participate"})})]})]})})})},g=function(e){var t=e.contract,n=e.currentUser,r=e.nearConfig,c=e.wallet;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(b,{currentUser:n,nearConfig:r,wallet:c}),n&&Object(m.jsx)(j,{contract:t})]})},h=(n(76),n(68)),f=n.n(h),x=n(27);function w(){return(w=Object(o.a)(c.a.mark((function e(){var t,n,r,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f()("production"),e.next=3,x.connect(Object(a.a)({deps:{keyStore:new x.keyStores.BrowserLocalStorageKeyStore}},t));case 3:if(n=e.sent,!(r=new x.WalletConnection(n)).getAccountId()){e.next=11;break}return e.t0=r.getAccountId(),e.next=9,r.account().state();case 9:e.t1=e.sent.amount,o={accountId:e.t0,balance:e.t1};case 11:return e.next=13,new x.Contract(r.account(),t.contractName,{viewMethods:["current_points","current_turn","how_to_play"],changeMethods:["reset_game","end_round","start_round"],sender:r.getAccountId()});case 13:return s=e.sent,e.abrupt("return",{contract:s,currentUser:o,nearConfig:t,walletConnection:r});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.nearInitPromise=function(){return w.apply(this,arguments)}().then((function(e){var t=e.contract,n=e.currentUser,r=e.nearConfig,c=e.walletConnection;l.a.render(Object(m.jsx)(g,{contract:t,currentUser:n,nearConfig:r,wallet:c}),document.getElementById("root"))}))},68:function(e,t){var n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CONTRACT_NAME||"dev-1635864300419-12038531642498";e.exports=function(e){switch(e){case"mainnet":return{networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",contractName:n,walletUrl:"https://wallet.near.org",helperUrl:"https://helper.mainnet.near.org"};case"production":case"development":case"testnet":return{networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",contractName:n,walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org"};default:throw Error("Unconfigured environment '".concat(e,"'. Can be configured in src/config.js."))}}},76:function(e,t,n){},82:function(e,t){},92:function(e,t){}},[[138,1,2]]]);
//# sourceMappingURL=main.70e4be83.chunk.js.map